(this.webpackJsonpmetronome=this.webpackJsonpmetronome||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(5),c=n.n(r),s=n(2),o=n(3),l=n(7),u=n(6),m=n(1),h=n(8);var d=function(){return i.a.createElement("header",null,i.a.createElement("div",{className:"content content-flex"},i.a.createElement("h1",null,"Metronome"),i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"/",className:"current-page"},"Home")),i.a.createElement("li",null,i.a.createElement("a",{href:"/"},"About"))))))};var f=function(t){return i.a.createElement("button",{className:t.className,onClick:t.onClick},t.children)},p=function(){function t(){Object(s.a)(this,t),this.context=null,this.contextClass=null,this.interval_id=null,this.bpm=60,this.RenderNext=this.renderNext.bind(this)}return Object(o.a)(t,[{key:"setBpm",value:function(t){return this.bpm=t,this.bpm=Math.max(this.bpm,30),this.bpm=Math.min(this.bpm,400),this.interval=60/this.bpm,this.bpm}},{key:"createContext",value:function(){return this.contextClass=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,!(!this.contextClass||(this.context=new this.contextClass,!this.context))}},{key:"start",value:function(){var t=this;this.stop(),this.interval=60/this.bpm,this.next_tick_time=this.context.currentTime+this.interval,this.scheduleTick(0),this.interval_id=setInterval((function(){return t.renderNext(.35)}),25)}},{key:"started",value:function(){return null!==this.interval_id}},{key:"stop",value:function(){if(this.started())return clearInterval(this.interval_id),void(this.interval_id=null)}},{key:"scheduleTick",value:function(t){var e=this.context.createBufferSource();e.buffer=this.buffer,e.connect(this.context.destination),e.start(t)}},{key:"renderNext",value:function(t){for(var e=this.context.currentTime;this.next_tick_time<e;)this.next_tick_time+=this.interval;for(;this.next_tick_time<e+t;)this.scheduleTick(this.next_tick_time),this.next_tick_time+=this.interval}}]),t}(),v=(n(14),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).metronome=new p,n.metronome.createContext(),n.state={bpm:60,started:!1},n.changeBpm=n.changeBpm.bind(Object(m.a)(n)),n.startStop=n.startStop.bind(Object(m.a)(n)),n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("./tick.mp3").then((function(t){return t.arrayBuffer()})).then((function(e){return t.metronome.context.decodeAudioData(e)})).then((function(e){return t.metronome.buffer=e})).catch((function(t){return alert(t)}))}},{key:"changeBpm",value:function(t){var e=this.metronome.setBpm(this.state.bpm+t);this.setState({bpm:e})}},{key:"startStop",value:function(){var t=!this.state.started;t?this.metronome.start():this.metronome.stop(),this.setState({started:t})}},{key:"render",value:function(){var t=this,e=this.state,n=e.bpm,a=e.started;return i.a.createElement("div",{className:"App"},i.a.createElement(d,null),i.a.createElement("div",{className:"content"},i.a.createElement("div",null,i.a.createElement("p",{className:"bpm"},n)),i.a.createElement("div",{className:"center"},i.a.createElement(f,{className:"ctrl-button",onClick:function(){return t.changeBpm(-1)}},"-1"),i.a.createElement(f,{className:"ctrl-button",onClick:function(){return t.changeBpm(-10)}},"-10"),i.a.createElement(f,{className:"ctrl-button ctrl-button-large",onClick:function(){return t.startStop()}},a?"Stop":"Start"),i.a.createElement(f,{className:"ctrl-button",onClick:function(){return t.changeBpm(10)}},"+10"),i.a.createElement(f,{className:"ctrl-button",onClick:function(){return t.changeBpm(1)}},"+1"))))}}]),e}(i.a.Component));c.a.render(i.a.createElement(v,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.354c50bd.chunk.js.map